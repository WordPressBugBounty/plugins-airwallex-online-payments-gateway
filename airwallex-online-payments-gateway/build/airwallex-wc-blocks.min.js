(()=>{"use strict";var e={20:(e,t,n)=>{
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(609),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},848:(e,t,n)=>{e.exports=n(20)},609:e=>{e.exports=window.React}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const r=window.wc.wcBlocksRegistry,a=window.wc.wcSettings,s=window.wp.i18n;var i,o,l,c,d,m=n(848);const u=(0,a.getSetting)("airwallex_main_data",{}),y=null!==(i=u?.title)&&void 0!==i?i:(0,s.__)("Pay with cards and more","airwallex-online-payments-gateway"),x=null!==(o=u?.description)&&void 0!==o?o:"",p=null!==(l=u?.icons)&&void 0!==l?l:{},w=e=>{const{PaymentMethodLabel:t}=e.components;return Object.keys(p).length<=5?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t,{text:y}),(0,m.jsx)("span",{style:{marginLeft:"auto",display:"flex",direction:"rtl"},children:Object.entries(p).map((([e,t])=>(0,m.jsx)("img",{src:t,alt:y,className:"airwallex-card-icon"},e)))})]}):(0,m.jsx)(t,{text:y})},g=e=>Object.keys(p).length>5?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"airwallex-logo-list",style:{display:"flex"},children:Object.entries(p).map((([e,t])=>(0,m.jsx)("img",{src:t,alt:y,className:"airwallex-card-icon"},e)))}),(0,m.jsx)("div",{children:x})]}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{children:x})}),h={name:null!==(c=u?.name)&&void 0!==c?c:"airwallex_main",label:(0,m.jsx)(w,{}),content:(0,m.jsx)(g,{}),edit:(0,m.jsx)(g,{}),canMakePayment:()=>{var e;return null!==(e=u?.enabled)&&void 0!==e&&e},ariaLabel:y,supports:{features:null!==(d=u?.supports)&&void 0!==d?d:[]}};var v=n(609);const _={prod:"checkout.airwallex.com",demo:"checkout-demo.airwallex.com",staging:"checkout-staging.airwallex.com",dev:"checkout-dev.airwallex.com",local:"localhost:3000"},f=e=>`https://${_[e]||_.prod}`,b="/assets/elements.bundle.min.js?version=1.89.0",E=e=>{const t=document.createElement("script");t.src=`${e}${b}`,t.crossOrigin="anonymous";const n=document.head||document.body;if(!n)throw new Error("Airwallex payment scripts requires a <head> or <body> html element in order to be loaded.");return n.appendChild(t),t},j=async e=>{if("undefined"==typeof window)return null;if(window.Airwallex)return window.Airwallex;let t=0;const n=async()=>{const t=document.querySelector(`script[src="${b}"], script[src="${b}/"]`)||E(f((null==e?void 0:e.env)||"prod"));return new Promise(((n,r)=>{t.addEventListener("load",(()=>{window.Airwallex?(window.Airwallex.init(e),n(window.Airwallex)):r(new Error("Failed to load Airwallex on load event"))})),t.addEventListener("error",(()=>{r(new Error("Failed to load Airwallex scripts")),t.remove&&t.remove()}))}))};for(;t<3;)try{return await n()}catch(e){t++,await new Promise((e=>window.setTimeout(e,500)))}return null},C=(e,t)=>window.Airwallex?window.Airwallex.createElement(e,t):(console.error("Please loadAirwallex() before createElement();"),null),S=e=>window.Airwallex?window.Airwallex.getElement(e):(console.error("Please loadAirwallex() before getElement();"),null),k=async e=>{if(window.Airwallex)return window.Airwallex.confirmPaymentIntent(e);{const e="Please loadAirwallex() before confirmPaymentIntent();";throw console.error(e),new Error(e)}},R=async e=>{if(window.Airwallex)return window.Airwallex.createPaymentConsent(e);{const e="Please loadAirwallex() before createPaymentConsent();";throw console.error(e),new Error(e)}};const T=e=>e.first_name.concat(" ",e.last_name).trim(),P=e=>({address:{city:e.city,country_code:e.country,postcode:e.postcode,state:e.state,street:e.address_1.concat(" ",e.address_2).trim()},first_name:e.first_name,last_name:e.last_name,email:e.email}),M=function(e,t){for(const n in t)e=e.replace(n,t[n]);return e};(()=>{const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))})();const L=()=>{const e=navigator.language||navigator.userLanguage,t=e.split("-")[0];return"zh"!==t||"zh-HK"!==e&&"zh-TW"!==e?t:"zh-HK"},N=({settings:e,paymentDetails:t,cvcElementRef:n,billingData:r,successType:a,errorType:s,errorContext:i})=>{const o=document.getElementById("airwallex-save")?.checked,l=e.confirm_url.includes("?")?"&":"?",c=`${e.confirm_url}${l}order_id=${t.orderId}&intent_id=${t.paymentIntent}&is_airwallex_save_checked=${o}`,d=S("card"),m={type:a};let u;return m.confirmUrl=c,u=t.createConsent?t.consentId?n.current.confirm({client_secret:t.clientSecret,billing:P(r),currency:t.currency,customer_id:t.customerId,intent_id:t.paymentIntent,payment_method_id:t.paymentMethodId,payment_consent:{merchant_trigger_reason:"scheduled",next_triggered_by:"merchant"}}):R({intent_id:t.paymentIntent,customer_id:t.customerId,client_secret:t.clientSecret,currency:t.currency,element:d,next_triggered_by:"merchant",billing:P(r)}):t.consentId?k({intent_id:t.paymentIntent,payment_consent_id:t.consentId,client_secret:t.clientSecret,currency:t.currency,element:n.current,billing:P(r),payment_method_options:{card:{auto_capture:e.capture_immediately}}}):o?R({intent_id:t.paymentIntent,customer_id:t.customerId,client_secret:t.clientSecret,currency:t.currency,element:d,next_triggered_by:"customer",billing:P(r)}):k({element:d,id:t.paymentIntent,client_secret:t.clientSecret,payment_method:{card:{name:T(r)},billing:P(r)}}),u.then((e=>m)).catch((e=>{var t;return m.type=s,m.code=e.code,m.message=null!==(t=e.message)&&void 0!==t?t:JSON.stringify(e),m.messageContext=i,m}))},A=({settings:e,props:t})=>{const[n,r]=(0,v.useState)(!1),[a,i]=(0,v.useState)(!1),[o,l]=(0,v.useState)(!1),[c,d]=(0,v.useState)(!1),{emitResponse:u,billing:y}=t,{ValidationInputError:x,LoadingMask:p}=t.components,{onCheckoutSuccess:w,onPaymentSetup:g,onCheckoutFail:h,onCheckoutValidation:_}=t.eventRegistration;return(0,v.useEffect)((()=>{j({env:e.environment,origin:window.location.origin,locale:e.locale}).then((()=>{C("card",{autoCapture:e.capture_immediately,allowedCardNetworks:["discover","visa","mastercard","maestro","unionpay","amex","jcb","diners"],style:{base:{fontSize:"14px","::placeholder":{color:"rgba(135, 142, 153, 1)"}}}}).mount("airwallex-card")}));const t=e=>{r(!0),console.log("The Card element is ready.")},n=e=>{const{error:t}=e.detail;i(t.message),console.error("There was an error",t)},a=e=>{d("")},s=e=>{var t;const{error:n}=e.detail;d(null!==(t=n?.message)&&void 0!==t?t:JSON.stringify(n))},o=document.getElementById("airwallex-card");return o.addEventListener("onReady",t),o.addEventListener("onError",n),o.addEventListener("onBlur",s),o.addEventListener("onFocus",a),()=>{o.removeEventListener("onReady",t),o.removeEventListener("onError",n),o.removeEventListener("onFocus",a),o.removeEventListener("onBlur",s)}}),[]),(0,v.useEffect)((()=>{const e=_((()=>!c||{errorMessage:(0,s.__)("An error has occurred. Please check your payment details.","airwallex-online-payments-gateway")+` (${c})`}));return()=>{e()}}),[c,_]),(0,v.useEffect)((()=>{const e=g((async()=>({type:u.responseTypes.SUCCESS,meta:{paymentMethodData:{"is-airwallex-card-block":!0}}})));return()=>{e()}}),[e,g,u.responseTypes.SUCCESS]),(0,v.useEffect)((()=>{const e=h((({processingResponse:e})=>!e?.paymentDetails?.errorMessage||{type:u.responseTypes.ERROR,message:e.paymentDetails.errorMessage,messageContext:u.noticeContexts.PAYMENTS}));return()=>{e()}}),[h,u.noticeContexts.PAYMENTS,u.responseTypes.ERROR]),(0,v.useEffect)((()=>{const t=w((async({processingResponse:t})=>{l(!0);const n=t.paymentDetails||{},r=await N({settings:e,paymentDetails:n,billingData:y.billingData,successType:u.responseTypes.SUCCESS,errorType:u.responseTypes.ERROR,errorContext:u.noticeContexts.PAYMENTS});if(r.type!==u.responseTypes.SUCCESS&&(r.type!==u.responseTypes.ERROR||"invalid_status_for_operation"!==r.code))return l(!1),r;location.href=r.confirmUrl}));return()=>{t()}}),[w,u.noticeContexts.PAYMENTS,u.responseTypes.SUCCESS,u.responseTypes.ERROR]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"airwallex-checkout-loading-mask",style:{display:o?"block":"none"}}),(0,m.jsx)("div",{id:"airwallex-card",style:{display:n?"block":"none",border:"1px solid var(--Border-decorative, rgba(232, 234, 237, 1))",background:"rgb(250, 250, 251)",padding:"0 16px",marginBottom:"6px",marginTop:"4px",minHeight:"40px",borderRadius:"4px",display:"flex",alignItems:"center",width:"400px"}}),(0,m.jsx)(x,{errorMessage:c})]})},$=e=>{const[t,n]=(0,v.useState)(!1),[r,a]=(0,v.useState)(!1),[i,o]=(0,v.useState)(3),{emitResponse:l,settings:c,billing:d,token:u}=e,{onCheckoutSuccess:y}=e.eventRegistration,x=(0,v.useRef)(null),p=e=>{n(e.detail.complete)};return(0,v.useEffect)((()=>{const{tokens:e}=c,t=e?.[u];a(t?.is_skip_cvc),o(["amex","american express"].includes(t?.type?.toLowerCase())?4:3)}),[u,c]),(0,v.useEffect)((()=>{let e;return j({env:c.environment,locale:c.locale,origin:window.location.origin}).then((()=>{e=Airwallex.createElement("cvc",{style:{base:{fontSize:"14px","::placeholder":{color:"rgba(135, 142, 153, 1)"}}},placeholder:(0,s.__)("CVC","airwallex-online-payments-gateway"),cvcLength:i}),x.current=e,n(!1),e.mount("airwallex-cvc"),e.on("change",p)})),()=>{e&&e.destroy()}}),[i]),(0,v.useEffect)((()=>{const e=y((async({processingResponse:e})=>{const{tokens:n}=c,r=n?.[u];if(!t&&!r?.is_skip_cvc)return{type:l.responseTypes.ERROR,message:(0,s.__)("CVC is not completed.","airwallex-online-payments-gateway"),messageContext:l.noticeContexts.PAYMENTS};const a=e.paymentDetails||{},i=await N({settings:c,paymentDetails:a,cvcElementRef:x,billingData:d.billingData,successType:l.responseTypes.SUCCESS,errorType:l.responseTypes.ERROR,errorContext:l.noticeContexts.PAYMENTS});if(i.type!==l.responseTypes.SUCCESS&&(i.type!==l.responseTypes.ERROR||"invalid_status_for_operation"!==i.code))return i;location.href=i.confirmUrl}));return()=>e()}),[y,l.responseTypes.SUCCESS,l.responseTypes.ERROR,t,u]),(0,m.jsxs)("div",{style:{display:r?"none":"block"},children:[(0,m.jsx)("div",{className:"cvc-title",style:{marginBottom:"4px"},children:"Security code"}),(0,m.jsx)("div",{id:"airwallex-cvc",className:"cvc-container",style:{border:"1px solid var(--Border-decorative, rgba(232, 234, 237, 1))",background:"rgb(250, 250, 251)",padding:"0 16px",marginBottom:"18px",minHeight:"40px",borderRadius:"4px",display:"flex",alignItems:"center",width:"288px"}})]})};var I,O,B;const D=(0,a.getSetting)("airwallex_card_data",{}),U=D?.title||(0,s.__)("Card","airwallex-online-payments-gateway"),F=D?.description,q=null!==(I=D?.icons)&&void 0!==I?I:{},Y=(0,s.__)("Card information","airwallex-online-payments-gateway"),H=(0,s.__)("Save payment information to my account for future purchases","airwallex-online-payments-gateway"),z=e=>{const{PaymentMethodLabel:t}=e.components;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(t,{text:U}),(0,m.jsx)("span",{style:{marginLeft:"auto",display:"flex",direction:"rtl"},children:Object.entries(q).map((([e,t])=>(0,m.jsx)("img",{src:t,alt:U,className:"airwallex-card-icon",style:{marginRight:"5px"}},e)))})]})},V=e=>{if(!1===D?.enabled)return null;return"inline"==D.checkout_form_type?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{style:{color:"rgba(20, 23, 26, 1)"},children:Y}),F&&(0,m.jsx)("p",{children:F}),(0,m.jsx)(A,{settings:D,props:e}),D.is_logged_in&&D.is_save_card_enabled&&!D.is_subscription&&(0,m.jsxs)("div",{className:"line save",children:[(0,m.jsx)("input",{type:"checkbox",id:"airwallex-save"}),(0,m.jsx)("label",{htmlFor:"airwallex-save",style:{color:"rgba(20, 23, 26, 1)",marginLeft:"6px"},children:H})]})]}):(0,m.jsx)("div",{children:F})},W={name:null!==(O=D?.name)&&void 0!==O?O:"airwallex_card",label:(0,m.jsx)(z,{}),content:(0,m.jsx)(V,{}),edit:(0,m.jsx)(V,{}),savedTokenComponent:(0,m.jsx)($,{settings:D}),canMakePayment:()=>{var e;return null!==(e=D?.enabled)&&void 0!==e&&e},ariaLabel:U,supports:{features:null!==(B=D?.supports)&&void 0!==B?B:[]}};var K,J,Q,Z;const G=(0,a.getSetting)("airwallex_wechat_data",{}),X=null!==(K=G?.title)&&void 0!==K?K:(0,s.__)("WeChat Pay","airwallex-online-payments-gateway"),ee=null!==(J=G?.description)&&void 0!==J?J:"",te=e=>{const{PaymentMethodLabel:t}=e.components;return(0,m.jsx)(t,{text:X})},ne=e=>(0,m.jsx)("div",{children:ee}),re={name:null!==(Q=G?.name)&&void 0!==Q?Q:"airwallex_wechat",label:(0,m.jsx)(te,{}),content:(0,m.jsx)(ne,{}),edit:(0,m.jsx)(ne,{}),canMakePayment:()=>{var e;return null!==(e=G?.enabled)&&void 0!==e&&e},ariaLabel:X,supports:{features:null!==(Z=G?.supports)&&void 0!==Z?Z:[]}},ae=(0,s.__)("Express Checkout","airwallex-online-payments-gateway"),se=e=>{const{PaymentMethodLabel:t}=e.components;return(0,m.jsx)(t,{text:ae})},ie=e=>(0,m.jsx)("div",{children:""}),oe={name:"airwallex_express_checkout",label:(0,m.jsx)(se,{}),content:(0,m.jsx)(ie,{}),edit:(0,m.jsx)(ie,{}),canMakePayment:()=>!1,ariaLabel:ae,supports:{features:[]}},le=window.wp.data,ce=window.wc.wcBlocksData,de=window.jQuery;var me=n.n(de);const ue=(e,t)=>t.ajaxUrl.toString().replace("%%endpoint%%","airwallex_"+e),ye=({title:e,icon:t,...n})=>{const{PaymentMethodLabel:r}=n.components,{url:a,alt:s}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r,{text:e}),(0,m.jsx)("img",{src:a,alt:s,style:{marginLeft:"auto",marginRight:"5px"}})]})},xe=({settings:e,description:t,...n})=>{const{eventRegistration:r,emitResponse:a,billing:i,activePaymentMethod:o,shippingData:l}=n,{LoadingMask:c}=n.components,{onCheckoutValidation:d,onPaymentSetup:u,onCheckoutFail:y}=r,{currency:x}=i,{paymentMethodName:p,paymentMethodDocURL:w}=e,{currencyIneligibleCWOff:g,currencyIneligibleCWOn:h}=e.textTemplate,{criticalIcon:_,infoIcon:f}=e.alterBoxIcons,[b,E]=(0,v.useState)(!1),[j,C]=(0,v.useState)(!1),[S,k]=(0,v.useState)(!1),[R,T]=(0,v.useState)(!0),[P,N]=(0,v.useState)(""),[A,$]=(0,v.useState)({}),I=async t=>{let n=!1,r="",a="";D(!0),await((e,t,n)=>me().ajax({type:"POST",data:{payment_currency:e,target_currency:t,security:n?.nonce?.createQuoteCurrencySwitcher},url:ue("currency_switcher_create_quote",n)}))(x.code,t,e).then((s=>{const{quote:i}=s;if(i){$(i),n=!0;const s={$$original_currency$$:i.paymentCurrency,$$converted_currency$$:i.targetCurrency,$$conversion_rate$$:i.clientRate,$$converted_amount$$:i.targetAmount};r=M(e?.textTemplate?.conversionRate,s),a=M(e?.textTemplate?.convertedAmount,s),O({conversionRate:r,convertedAmount:a,requiredCurrency:t,baseAmount:i.paymentAmount}),k(!0),C(!1),D(!1)}else n=!1,r="",a="",k(!1),C(!0),D(!0)})).catch((e=>{k(!1),C(!0),console.error(e)})),T(!1),D(!1),document.getElementById("wc-block-airwallex-currency-switching-convert-rate").innerHTML=r,document.getElementById("wc-block-airwallex-currency-switching-converted-amount").innerHTML=a,document.getElementById("wc-block-airwallex-currency-switching-container").style.display=n?"flex":"none"},O=({conversionRate:e,convertedAmount:t,requiredCurrency:n,baseAmount:r})=>{try{document.getElementById("wc-airwallex-quote-expire-convert-text").innerHTML=M(h,{$$original_currency$$:x.code,$$converted_currency$$:n}),document.getElementById("wc-airwallex-currency-switching-base-amount").innerHTML=r,document.getElementById("wc-airwallex-currency-switching-conversion-rate").innerHTML=e,document.getElementById("wc-airwallex-currency-switching-converted-amount").innerHTML=t}catch(e){console.warn(e)}},B=()=>{try{document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire")[0].style.display="none",document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-mask")[0].style.display="none"}catch(e){console.warn(e)}},D=function(e){try{document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-place-order-mask")[0].style.display=e?"block":"none"}catch(e){console.warn(e)}};return(0,v.useEffect)((()=>{document.getElementById("wc-block-airwallex-currency-switching-container").style.display="none",((t,n)=>{if(T(!0),n in e){const{availableCurrencies:r}=e,{supportedCountryCurrency:a}=e[n];if(t in a){const e=a[t];N(e),x.code===e?(E(!1),C(!1),k(!1),T(!1)):r&&r.includes(e)?(I(e),E(!1)):(E(!1),C(!0),k(!1),T(!1))}else E(!0),C(!1),k(!1),T(!1)}})(i.billingAddress.country,o);try{document.getElementById("wc-airwallex-quote-expire-confirm").innerHTML=document.getElementsByClassName("wc-block-components-checkout-place-order-button")[0].innerText}catch(e){console.warn(e)}}),[i.billingAddress.country,l.selectedRates,i.cartTotal]),(0,v.useEffect)((()=>{const e=d((()=>b||j?{context:a.noticeContexts.PAYMENTS,errorMessage:(0,s.__)("Please use a different payment method.","airwallex-online-payments-gateway")}:0===Object.keys(A).length||(!!(A&&A.refreshAt&&new Date(A.refreshAt).getTime()>=(new Date).getTime())||(I(P),(()=>{try{document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire")[0].style.display="block",document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-mask")[0].style.display="block"}catch(e){console.warn(e)}})(),new Promise(((e,t)=>{const n=document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-close")[0],r=document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-place-back")[0],i=document.getElementsByClassName("wc-airwallex-currency-switching-quote-expire-place-order")[0];n&&r&&i||(console.warn("Quote expire pop up modal not found."),e(!1)),n.onclick=()=>{B(),e({context:a.noticeContexts.PAYMENTS,errorMessage:(0,s.__)("Payment aborted.","airwallex-online-payments-gateway")})},r.onclick=()=>{B(),e({context:a.noticeContexts.PAYMENTS,errorMessage:(0,s.__)("Payment aborted.","airwallex-online-payments-gateway")})},i.onclick=()=>{B(),e(!0)}}))))));return()=>{e()}}),[b,j,A,P,d]),(0,v.useEffect)((()=>{const e=u((async()=>{const e=(e=>{const{navigator:t,screen:n}=window||{},{language:r,userAgent:a}=t||{},{colorDepth:s,height:i,width:o}=n||{};return{device_id:e,screen_height:i,screen_width:o,screen_color_depth:s,language:r,timezone:(new Date).getTimezoneOffset(),browser:{java_enabled:t?.javaEnabled(),javascript_enabled:!0,user_agent:a}}})(document.getElementById("airwallex-fraud-api")?.getAttribute("data-order-session-id"));return{type:a.responseTypes.SUCCESS,meta:{paymentMethodData:{airwallex_device_data:JSON.stringify(e),airwallex_target_currency:P,airwallex_browser_language:L()}}}}));return()=>{e()}}),[e,P,u,a.responseTypes.SUCCESS]),(0,v.useEffect)((()=>{const e=y((({processingResponse:e})=>!e?.paymentDetails?.message||{type:a.responseTypes.ERROR,message:e.paymentDetails.message,messageContext:a.noticeContexts.PAYMENTS}));return()=>{e()}}),[y,a.noticeContexts.PAYMENTS,a.responseTypes.ERROR]),(0,m.jsx)("div",{children:(0,m.jsxs)(c,{isLoading:R,screenReaderLabel:(0,s.__)("Loading currency switching detail…","airwallex-online-payments-gateway"),children:[t,(0,m.jsx)("span",{style:{display:R?"inline-block":"none"},className:"wc-airwallex-loader"}),(0,m.jsx)(we,{shouldDisplay:b,methodName:p,docUrl:w,icon:_,test:R}),(0,m.jsx)(ge,{shouldDisplay:j,text:M(g,{$$original_currency$$:x.code}),icon:_}),(0,m.jsx)(he,{shouldDisplay:S,text:M(h,{$$original_currency$$:x.code,$$converted_currency$$:P}),icon:f})]})})},pe=({description:e,...t})=>(0,m.jsx)("div",{children:e}),we=({methodName:e,docUrl:t,icon:n,shouldDisplay:r,test:a})=>(0,m.jsxs)("div",{style:{display:r?"flex":"none"},className:"wc-airwallex-alert-box wc-airwallex-error",children:[(0,m.jsx)("img",{src:n}),(0,m.jsxs)("div",{children:[e,(0,s.__)(" is not available in your country. Please change your billing address to a ","airwallex-online-payments-gateway"),(0,m.jsx)("a",{href:t,target:"_blank",children:(0,s.__)("compatible country","airwallex-online-payments-gateway")}),(0,s.__)(" or choose a different payment method.","airwallex-online-payments-gateway")]})]}),ge=({text:e,icon:t,shouldDisplay:n})=>(0,m.jsxs)("div",{style:{display:n?"flex":"none"},className:"wc-airwallex-alert-box wc-airwallex-error",children:[(0,m.jsx)("img",{src:t}),(0,m.jsx)("div",{children:e})]}),he=({text:e,icon:t,shouldDisplay:n})=>(0,m.jsxs)("div",{style:{display:n?"flex":"none"},className:"wc-airwallex-alert-box wc-airwallex-info",children:[(0,m.jsx)("img",{src:t}),(0,m.jsx)("div",{children:e})]});var ve,_e,fe,be,Ee;const je=(0,a.getSetting)("airwallex_klarna_data",{}),Ce=null!==(ve=je.icon)&&void 0!==ve?ve:{},Se=null!==(_e=je?.title)&&void 0!==_e?_e:(0,s.__)("Klarna","airwallex-online-payments-gateway"),ke=null!==(fe=je?.description)&&void 0!==fe?fe:"",Re={name:null!==(be=je?.name)&&void 0!==be?be:"airwallex_klarna",label:(0,m.jsx)(ye,{title:Se,icon:Ce}),content:(0,m.jsx)(xe,{settings:je,description:ke}),edit:(0,m.jsx)(pe,{description:ke}),canMakePayment:()=>{var e;return null!==(e=je?.enabled)&&void 0!==e&&e},ariaLabel:Se,supports:{features:null!==(Ee=je?.supports)&&void 0!==Ee?Ee:[]}},Te=window.wp.plugins,Pe=window.wc.blocksCheckout;(0,r.registerPaymentMethod)(h),(0,r.registerPaymentMethod)(W),(0,r.registerPaymentMethod)(re),(0,r.registerPaymentMethod)(oe),(0,r.registerPaymentMethod)(Re);const Me=({cart:e,extensions:t})=>(0,m.jsxs)("div",{id:"wc-block-airwallex-currency-switching-container",style:{display:"none"},children:[(0,m.jsx)("div",{style:{padding:"16px",flexGrow:"1"},children:(0,s.__)("You Pay","airwallex-online-payments-gateway")}),(0,m.jsxs)("div",{className:"wc-airwallex-currency-switching-container",children:[(0,m.jsxs)("div",{className:"wc-airwallex-currency-switching-conversion-rate",children:[(0,m.jsxs)("div",{className:"wc-airwallex-currency-switching-convert-icon",children:[(0,m.jsx)("div",{className:"wc-airwallex-currency-switching-convert-icon-line",children:(0,m.jsx)("div",{})}),(0,m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:(0,m.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.8751 6.00603C11.2227 5.84685 11.641 5.97553 11.836 6.31338C12.0431 6.6721 11.9202 7.13079 11.5615 7.33789L9.93769 8.27539C9.57897 8.4825 9.12028 8.3596 8.91317 8.00088L7.97567 6.37708C7.76857 6.01836 7.89147 5.55967 8.25019 5.35256C8.60891 5.14545 9.0676 5.26836 9.27471 5.62708L9.36849 5.78951C9.25886 4.02452 7.79267 2.62695 6.00007 2.62695C5.0122 2.62695 4.12347 3.05137 3.50626 3.72782L2.44482 2.66638C3.33417 1.71884 4.598 1.12695 6.00007 1.12695C8.69245 1.12695 10.8751 3.30957 10.8751 6.00195C10.8751 6.00331 10.8751 6.00467 10.8751 6.00603ZM1.12576 6.08873L1.12513 6.0891C0.766406 6.2962 0.307713 6.1733 0.100606 5.81458C-0.106501 5.45586 0.0164058 4.99717 0.375125 4.79006L1.99892 3.85256C2.35764 3.64545 2.81633 3.76836 3.02344 4.12708L3.96094 5.75088C4.16805 6.1096 4.04514 6.56829 3.68642 6.77539C3.3277 6.9825 2.86901 6.8596 2.6619 6.50088L2.66152 6.50022C2.90238 8.12792 4.30533 9.37695 6 9.37695C6.85293 9.37695 7.63196 9.06056 8.22613 8.53874L9.28834 9.60095C8.42141 10.3935 7.26716 10.877 6 10.877C3.3366 10.877 1.17206 8.74108 1.12576 6.08873Z",fill:"#B0B6BF"})}),(0,m.jsx)("div",{className:"wc-airwallex-currency-switching-convert-icon-line",children:(0,m.jsx)("div",{})})]}),(0,m.jsx)("div",{id:"wc-block-airwallex-currency-switching-convert-rate",className:"wc-airwallex-currency-switching-convert-text"})]}),(0,m.jsx)("div",{id:"wc-block-airwallex-currency-switching-converted-amount",className:"wc-airwallex-currency-switching-converted-amount"})]})]});(0,Te.registerPlugin)("airwallex-lpm",{render:()=>(0,m.jsx)(Pe.ExperimentalOrderMeta,{children:(0,m.jsx)(Me,{})}),scope:"woocommerce-checkout"}),window.addEventListener("change",(e=>{"radio-control-wc-payment-method-options"===e?.target?.name&&"airwallex_klarna"!==(0,le.select)(ce.PAYMENT_STORE_KEY).getActivePaymentMethod()&&(document.getElementById("wc-block-airwallex-currency-switching-container").style.display="none")}))})();