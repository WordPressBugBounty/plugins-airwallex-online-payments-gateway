(()=>{"use strict";"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));jQuery((function(e){[].forEach.call(document.querySelectorAll(".elementor-menu-cart__container"),(function(e){e.style.visibility="hidden"}));const t=async()=>{let t="",a="";location.href.includes("airwallex_payment_method_all")||location.href.includes("airwallex_main")?(t=awxCommonData.getApmRedirectData.url,a=awxCommonData.getApmRedirectData.nonce):location.href.includes("airwallex_payment_method_wechat")||location.href.includes("airwallex_wechat")?(t=awxCommonData.getWechatRedirectData.url,a=awxCommonData.getWechatRedirectData.nonce):(location.href.includes("airwallex_payment_method_card")||location.href.includes("airwallex_card"))&&(t=awxCommonData.getCardRedirectData.url,a=awxCommonData.getCardRedirectData.nonce);const n=new URLSearchParams(window.location.search),o=await e.ajax({url:t+"&security="+a+"&order_id="+n.get("order_id"),method:"GET",dataType:"json"}),{elementType:r,elementOptions:l,containerId:i,orderId:c,paymentIntentId:d}=o?.data;let{confirmationUrl:m}=awxCommonData;const s=Airwallex.createElement(r,l);let x=s.mount(i);const u=setInterval((function(){if(document.getElementById(i)&&!document.querySelector(`#${i} iframe`))try{x=s.mount(i)}catch(e){console.warn(e)}else document.getElementById(i)&&document.querySelector(`#${i} iframe`)&&clearInterval(u)}),1e3);window.addEventListener("onSuccess",(e=>{if(e.target.id===i){document.getElementById(i).style.display="none",document.getElementById("airwallex-error-message").style.display="none";var t=document.getElementById("success-check");t&&(t.style.display="inline-block");var a=document.getElementById("success-message");a&&(a.style.display="block"),m+=-1!==m.indexOf("?")?"&":"?",location.href=`${m}order_id=${c}&intent_id=${d}&is_airwallex_save_checked=true`}})),window.addEventListener("onError",(t=>{e.ajax({url:awxCommonData.updateOrderStatusAfterPaymentDecline.url+"&security="+awxCommonData.updateOrderStatusAfterPaymentDecline.nonce+"&order_id="+c,method:"GET",dataType:"json"}),document.getElementById("airwallex-error-message").style.display="block"}))};if(awxCommonData){const{env:e}=awxCommonData;((e,t,a)=>{const n=setInterval((()=>{window.Airwallex&&(clearInterval(n),Airwallex.init({env:e,locale:t,origin:window.location.origin}),a())}),1e3)})(e,(()=>{const e=navigator.language||navigator.userLanguage,t=e.split("-")[0];return"zh"!==t||"zh-HK"!==e&&"zh-TW"!==e?t:"zh-HK"})(),t)}}))})();