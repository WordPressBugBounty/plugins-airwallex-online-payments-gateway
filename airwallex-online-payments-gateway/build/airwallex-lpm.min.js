(()=>{"use strict";var e={n:r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return e.d(n,{a:n}),n},d:(r,n)=>{for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const r=16*Math.random()|0;return("x"===e?r:3&r|8).toString(16)}));const r=e=>{const{navigator:r,screen:n}=window||{},{language:t,userAgent:a}=r||{},{colorDepth:c,height:i,width:o}=n||{};return{device_id:e,screen_height:i,screen_width:o,screen_color_depth:c,language:t,timezone:(new Date).getTimezoneOffset(),browser:{java_enabled:r?.javaEnabled(),javascript_enabled:!0,user_agent:a}}},n=()=>{const e=navigator.language||navigator.userLanguage,r=e.split("-")[0];return"zh"!==r||"zh-HK"!==e&&"zh-TW"!==e?r:"zh-HK"},t=window.jQuery;var a=e.n(t);const c=e=>awxEmbeddedLPMData.ajaxUrl.toString().replace("%%endpoint%%","airwallex_"+e);jQuery((function(e){let t="",i="",o={},l=!1;const u=function(r,n){l=!0,g(!0),y(!0),d(),((e,r)=>a().ajax({type:"POST",data:{payment_currency:e,target_currency:r,security:awxEmbeddedLPMData.nonce.createQuoteCurrencySwitcher},url:c("currency_switcher_create_quote")}))(r,n).done((function(t){const{quote:a}=t,{currencyIneligibleCWOff:c,currencyIneligibleCWOn:i,conversionRate:l,convertedAmount:u}=awxEmbeddedLPMData.textTemplate;if(a){o=a;const n={$$original_currency$$:r,$$conversion_rate$$:a.clientRate,$$converted_currency$$:a.targetCurrency,$$converted_amount$$:a.targetAmount};e(".wc-airwallex-currency-switching-base-amount").html(a.paymentAmount),e(".wc-airwallex-currency-switching-convert-text").html("").append(p(l,n)),e(".wc-airwallex-currency-switching-converted-amount").html("").append(p(u,n)),e(".wc-airwallex-currency-switching-quote-expire-convert-text").html("").append(p(i,n)),e(".wc-airwallex-lpm-currency-ineligible-switcher-on .wc-airwallex-alert-box-content").html(p(i,n)),e(".wc-airwallex-lpm-currency-ineligible-switcher-on").show(),x(),g(!1),y(!1)}else{s();const t={$$original_currency$$:r,$$converted_currency$$:n};e(".woocommerce-checkout .wc-airwallex-alert-box").hide(),e(".wc-airwallex-lpm-currency-ineligible-switcher-off .wc-airwallex-alert-box-content").html(p(c,t)),e(".wc-airwallex-lpm-currency-ineligible-switcher-off").show(),g(!0)}})).fail((function(e){s()})).always((function(){l=!1,w()}))},d=function(){e(".wc-airwallex-loader").show()},w=function(){e(".wc-airwallex-loader").hide()},x=function(){e(".wc-airwallex-currency-switching").show()},s=function(){e(".wc-airwallex-currency-switching").hide()},p=function(e,r){for(const n in r)e=e.replace(n,r[n]);return e},m=function(){return e("#billing_country").val()},h=function(){const r=e('.woocommerce-checkout input[name="payment_method"]:checked').attr("id");return r?r.replace("payment_method_",""):""},g=function(r){e(".woocommerce-checkout #place_order").prop("disabled",r)},y=function(r){r?e(".wc-airwallex-currency-switching-quote-expire-place-order-mask").show():e(".wc-airwallex-currency-switching-quote-expire-place-order-mask").hide()},_=function(){e(document.body).on("country_to_state_changed payment_method_selected updated_checkout",(function(){s(),e(".woocommerce-checkout .wc-airwallex-alert-box").hide();const r=function(){let r=!0;const n=m(),a=h();if(a in awxEmbeddedLPMData){const{availableCurrencies:c}=awxEmbeddedLPMData,{supportedCountryCurrency:o}=awxEmbeddedLPMData[a],{currencyIneligibleCWOff:l}=awxEmbeddedLPMData.textTemplate;if(n in o){i=o[n];const a={$$original_currency$$:t,$$converted_currency$$:i};t===i||(c&&c.includes(i)?u(t,i):(r=!1,e(".wc-airwallex-lpm-currency-ineligible-switcher-off .wc-airwallex-alert-box-content").html(p(l,a)),e(".wc-airwallex-lpm-currency-ineligible-switcher-off").show()))}else r=!1,e(".wc-airwallex-lpm-country-ineligible").show()}return r}();g(!r||l)})),e("form.woocommerce-checkout").on("checkout_place_order",(function(t,a){var c;return h()in awxEmbeddedLPMData&&(c=a?a.$checkout_form:"form.checkout",e("<input>").prop({type:"hidden",id:"airwallex_device_data",name:"airwallex_device_data",value:JSON.stringify(r(document.getElementById("airwallex-fraud-api")?.getAttribute("data-order-session-id")))}).appendTo(c),e("<input>").prop({type:"hidden",id:"airwallex_origin",name:"airwallex_origin",value:window.location.origin}).appendTo(c),e("<input>").prop({type:"hidden",id:"airwallex_target_currency",name:"airwallex_target_currency",value:i}).appendTo(c),e("<input>").prop({type:"hidden",id:"airwallex_browser_language",name:"airwallex_browser_language",value:n()}).appendTo(c)),!0}))};if(awxEmbeddedLPMData&&awxCommonData){const{env:r,locale:n}=awxCommonData;((e,r,n)=>{const t=setInterval((()=>{window.Airwallex&&(clearInterval(t),Airwallex.init({env:e,locale:r,origin:window.location.origin}),n())}),1e3)})(r,n,(()=>{})),a().ajax({type:"GET",data:{security:awxEmbeddedLPMData.nonce.getStoreCurrency},url:c("get_store_currency")}).done((function(e){t=e.currency,_()})),e("#wc-airwallex-quote-expire-confirm").text(e("#place_order").text())}}))})();